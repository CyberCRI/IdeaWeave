<section>
    <header style="background-image: url({{ challenge.banner || 'http://placehold.it/900x150'  }}) !important;" class="challenge-header">
        <h1>
            {{ challenge.title }}
        </h1>
        <p>
            <span>
                {{ challenge.followers.length }}
                <span class="text-muted">
                    followers
                </span>
            </span>
            <span>
                . {{ challenge.projectNumber }}
                <span class="text-muted">
                    projects
                </span>
            </span>
            <span ng-if="challenge.startDate < now && challenge.endDate > now" >
                <timer end-time="challenge.endDate" >End in :{{days}} d, {{hours}} : {{minutes}} : {{seconds}}</timer>
            </span>
            <span ng-if="challenge.startDate > now" >
                <timer end-time="challenge.endDate" >Start in : {{days}} d, {{hours}} : {{minutes}} : {{seconds}}</timer>
            </span>
        </p>
        <p ng-if="me.id && !isFollow" class="my-btn" ng-click="followChallenge()">
            <i class="fa fa-plus" style="color:yellow;"></i>
            follow
        </p>
        <p ng-if="me.id && isFollow" class="my-btn" ng-click="unfollow()">
            <i class="fa fa-plus" style="color:yellow;"></i>
            follow
        </p>
    </header>

    <section class="pad-left" style="padding-top:10px;">
        <i class="fa fa-tags fa-2x"></i>
        <span showtags entity="challenge"></span>
    </section>
    <section style="background-color:rgb(240,241,241);">
        <section class="row" >
            <div class="col-md-8 pad-left" style="min-height:400px; border-right:solid 1px black;margin-top:30px;">
                <article ng-bind-html="challenge.brief">

                </article>
            </div>
            <div class="col-md-4" style="margin-top: 30px;">
                <div ng-include="'modules/challenge/templates/chat.tpl.html'"></div>
            </div>
        </section>
        <div class="row center" style="padding-top: 30px;padding-bottom: 30px;">
            <button class="btn btn-lg btn-info" ng-click="participate()">Participate to this challenge</button>
        </div>
    </section>
    <section class="container-fluid">
        <div class="col-xs-12 col-sm-4 col-md-3 col-lg-2" ng-repeat="project in projects">
            <project-card project="project"></project-card>
        </div>
    </section>
    <section>
        <user-block ng-repeat="follower in followers" user-id="follower" class="col-xs-4 col-sm-3 col-md-2 col-lg-1">

        </user-block>
    </section>
</section>